<!DOCTYPE html>
<html lang="ky">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Админ панель</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/css/adminPage.css">
</head>
<body>
    <div id="include-header"></div>
    
    <div class="admin-container">
        <aside class="admin-sidebar">
            <h3>Админ панель</h3>
            <ul class="admin-menu">
                <li><a href="#" class="menu-link active" data-section="news"><i class="fas fa-newspaper"></i> Жаңылыктар</a></li>
                <li><a href="#" class="menu-link" data-section="teachers"><i class="fas fa-chalkboard-teacher"></i> Мугалимдер</a></li>
                <li><a href="#" class="menu-link" data-section="students"><i class="fas fa-user-graduate"></i> Окуучулар</a></li>
            </ul>
        </aside>
        
        <main class="admin-content">
            <!-- Новости -->
            <div id="news-section" class="content-section active">
                <div class="admin-header">
                    <h2><i class="fas fa-newspaper"></i> Жаңылыктарды башкаруу</h2>
                    <button class="btn btn-add" id="addNewsBtn">
                        <i class="fas fa-plus"></i> Жаңы жаңылык
                    </button>
                </div>
                
                <table class="news-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Сүрөт</th>
                            <th>Аталышы</th>
                            <th>Дата</th>
                            <th>Категория</th>
                            <th>Аракеттер</th>
                        </tr>
                    </thead>
                    <tbody id="newsTableBody"></tbody>
                </table>
            </div>
            
            <!-- Преподаватели -->
            <div id="teachers-section" class="content-section">
                <div class="admin-header">
                    <h2><i class="fas fa-chalkboard-teacher"></i> Мугалимдерди башкаруу</h2>
                    <button class="btn btn-add" id="addTeacherBtn">
                        <i class="fas fa-plus"></i> Мугалим кошуу
                    </button>
                </div>
                
                <table class="news-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Сүрөт</th>
                            <th>Аты-жөнү</th>
                            <th>Адистиги</th>
                            <th>Стаж</th>
                            <th>Аракеттер</th>
                        </tr>
                    </thead>
                    <tbody id="teachersTableBody"></tbody>
                </table>
            </div>

            <div id="students-section" class="content-section" style="display: none;">
              <div class="admin-header">
                <h2><i class="fas fa-user-graduate"></i> Окуучуларды башкаруу</h2>
                <button class="btn btn-add" id="addStudentBtn">
                  <i class="fas fa-plus"></i> Окуучу кошуу
                </button>
              </div>
            
              <div class="students-grid" id="studentsGrid"></div>
            </div>
            
            <!-- Модальное окно для студентов -->
            <div class="modal" id="studentModal">
              <div class="modal-content">
                <div class="modal-header">
                  <h3 id="studentModalTitle">Окуучу кошуу</h3>
                  <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                  <form id="studentForm">
                    <div class="form-group">
                      <label>Аты-жөнү:</label>
                      <input type="text" id="studentName" class="form-control" required>
                    </div>
                    <div class="form-group">
                      <label>Класс:</label>
                      <input type="text" id="studentClass" class="form-control" required>
                    </div>
                    <div class="form-group">
                      <label>Жетишкендиктер:</label>
                      <input type="text" id="studentAchievements" class="form-control" required>
                    </div>
                    <div class="form-group">
                      <label>Сүрөттөмө:</label>
                      <textarea id="studentDescription" class="form-control" required></textarea>
                    </div>
                    <div class="form-group">
                      <label>Белгилер (чекит менен бөлүңүз):</label>
                      <input type="text" id="studentBadges" class="form-control" placeholder="Математика, Информатика, Спорт">
                    </div>
                    <div class="form-group">
                      <label>Сүрөт:</label>
                      <input type="file" id="studentImage" class="form-control">
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button class="btn" id="cancelStudentBtn">Жокко чыгаруу</button>
                  <button class="btn btn-add" id="saveStudentBtn">Сактоо</button>
                </div>
              </div>
            </div>
        </main>
    </div>
    
    <!-- Модальное окно новостей -->
    <div class="modal" id="newsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="newsModalTitle">Жаңы жаңылык кошуу</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="newsForm">
                    <div class="form-group">
                        <label>Аталышы:</label>
                        <input type="text" id="newsTitle" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Категория:</label>
                        <select id="newsCategory" class="form-control" required>
                            <option value="">Категорияны тандаңыз</option>
                            <option value="Окуу процесси">Окуу процесси</option>
                            <option value="Иш-чаралар">Иш-чаралар</option>
                            <option value="Спорт">Спорт</option>
                            <option value="Жетишкендиктер">Жетишкендиктер</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Дата:</label>
                        <input type="date" id="newsDate" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Сүрөт:</label>
                        <input type="file" id="newsImage" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Мазмуну:</label>
                        <textarea id="newsContent" class="form-control" required></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn" id="cancelNewsBtn">Жокко чыгаруу</button>
                <button class="btn btn-add" id="saveNewsBtn">Сактоо</button>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно преподавателей -->
    <div class="modal" id="teacherModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="teacherModalTitle">Мугалим кошуу</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="teacherForm">
                    <div class="form-group">
                        <label>Аты-жөнү:</label>
                        <input type="text" id="teacherName" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Адистиги:</label>
                        <input type="text" id="teacherSubject" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Стажы:</label>
                        <input type="text" id="teacherExperience" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Билими:</label>
                        <input type="text" id="teacherEducation" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Кыскача маалымат:</label>
                        <textarea id="teacherBio" class="form-control"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Сүрөт:</label>
                        <input type="file" id="teacherPhoto" class="form-control">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn" id="cancelTeacherBtn">Жокко чыгаруу</button>
                <button class="btn btn-add" id="saveTeacherBtn">Сактоо</button>
            </div>
        </div>
    </div>
    <script src="/js/admin.js"></script>
    <script src="/js/include.js"></script>
</body>

<script>
  document.querySelectorAll('.menu-link').forEach(link => {
  link.addEventListener('click', function (e) {
    e.preventDefault();

    // Удаляем активный класс у всех
    document.querySelectorAll('.menu-link').forEach(link => link.classList.remove('active'));
    this.classList.add('active');

    // Скрываем все секции
    document.querySelectorAll('.content-section').forEach(section => section.style.display = 'none');

    // Показываем выбранную секцию
    const sectionId = this.dataset.section;
    if (sectionId) {
      document.getElementById(`${sectionId}-section`).style.display = 'block';

      // Загружаем студентов только при переходе на эту секцию
      if (sectionId === 'students') {
        loadStudents();
      }
    }
  });
});

</script>
    <script>
        document.addEventListener("DOMContentLoaded", async () => {
                  
          const modal = document.getElementById('newsModal');
          const newsForm = document.getElementById('newsForm');
          const addNewsBtn = document.getElementById('addNewsBtn');
          const closeModal = document.querySelector('.close-modal');
          const cancelBtn = document.getElementById('cancelBtn');
          const saveNewsBtn = document.getElementById('saveNewsBtn');
          let currentNewsId = null;
        
          function closeNewsModal() {
            modal.style.display = 'none';
            newsForm.reset();
            currentNewsId = null;
          }
        
          async function loadNews() {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';

            try {
              const response = await fetch(`${API_BASE_URL}/api/news`);
              if (!response.ok) throw new Error('Network error');
        
              const news = await response.json();
              const tbody = document.querySelector('.news-table tbody');
        
              tbody.innerHTML = news.map(item => `
                <tr>
                  <td>${item._id}</td>
                  <td>${item.image ? `<img src="${API_BASE_URL}/uploads/${item.image}" style="width:60px;height:40px;object-fit:cover;">` : 'Нет фото'}</td>
                  <td>${item.title}</td>
                  <td>${new Date(item.date).toLocaleDateString()}</td>
                  <td>${item.category}</td>
                  <td>
                    <div class="table-actions">
                      <button class="btn btn-edit" data-id="${item._id}"><i class="fas fa-edit"></i> Түзөтүү</button>
                      <button class="btn btn-delete" data-id="${item._id}"><i class="fas fa-trash"></i> Өчүрүү</button>
                    </div>
                  </td>
                </tr>
              `).join('');
        
              document.querySelectorAll('.btn-edit').forEach(btn => {
                btn.addEventListener('click', () => editNews(btn.dataset.id));
              });
        
              document.querySelectorAll('.btn-delete').forEach(btn => {
                btn.addEventListener('click', () => deleteNews(btn.dataset.id));
              });
        
            } catch (error) {
              console.error('Error loading news:', error);
              alert('Ошибка загрузки новостей');
            }
          }
        
          async function editNews(id) {
            try {
              const response = await fetch(`${API_BASE_URL}/api/news/${id}`);
              if (!response.ok) throw new Error('Network error');
        
              const newsItem = await response.json();
              document.getElementById('newsTitle').value = newsItem.title;
              document.getElementById('newsCategory').value = newsItem.category;
              document.getElementById('newsDate').value = newsItem.date.split('T')[0];
              document.getElementById('newsContent').value = newsItem.content;
              currentNewsId = id;
        
              modal.style.display = 'flex';
              document.getElementById('modalTitle').textContent = 'Жаңылыкты түзөтүү';
            } catch (error) {
              console.error('Error editing news:', error);
              alert('Ошибка при редактировании');
            }
          }
        
          async function deleteNews(id) {
            if (!confirm('Бул жаңылыкты чын эле өчүрүүнү каалайсызбы?')) return;
        
            try {
              const response = await fetch(`${API_BASE_URL}/api/news/${id}`, {
                method: 'DELETE'
              });
        
              if (!response.ok) throw new Error('Delete failed');
              loadNews();
            } catch (error) {
              console.error('Error deleting news:', error);
              alert('Ошибка при удалении');
            }
          }
        
          addNewsBtn.addEventListener('click', () => {
            modal.style.display = 'flex';
            document.getElementById('modalTitle').textContent = 'Жаңы жаңылык кошуу';
          });
        
          closeModal.addEventListener('click', closeNewsModal);
          cancelBtn.addEventListener('click', closeNewsModal);
          window.addEventListener('click', (e) => {
            if (e.target === modal) closeNewsModal();
          });
        
          saveNewsBtn.addEventListener('click', async () => {
            const formData = new FormData();
            formData.append('title', document.getElementById('newsTitle').value);
            formData.append('category', document.getElementById('newsCategory').value);
            formData.append('date', document.getElementById('newsDate').value);
            formData.append('content', document.getElementById('newsContent').value);
        
            const imageFile = document.getElementById('newsImage').files[0];
            if (imageFile) formData.append('image', imageFile);
        
            try {
              const url = currentNewsId 
                ? `${API_BASE_URL}/api/news/${currentNewsId}` 
                : `${API_BASE_URL}/api/news`;
        
              const method = currentNewsId ? 'PUT' : 'POST';
        
              const response = await fetch(url, {
                method,
                body: formData
              });
        
              if (!response.ok) throw new Error('Save failed');
        
              closeNewsModal();
              loadNews();
            } catch (error) {
              console.error('Error saving news:', error);
              alert('Сактоо учурунда ката кетти');
            }
          });
        
          loadNews();
          saveNewsBtn.addEventListener('click', async () => {
  const title = document.getElementById('newsTitle').value;
  const category = document.getElementById('newsCategory').value;
  const date = document.getElementById('newsDate').value;
  const content = document.getElementById('newsContent').value;
  const imageFile = document.getElementById('newsImage').files[0];

  if (!title || !category || !date || !content) {
    alert('Бардык талааларды толтуруңуз');
    return;
  }

  const formData = new FormData();
  formData.append('title', title);
  formData.append('category', category);
  formData.append('date', date);
  formData.append('content', content);
  if (imageFile) formData.append('image', imageFile);

  try {
    const response = await fetch(`${API_BASE_URL}/api/news`, {
      method: currentNewsId ? 'PUT' : 'POST',
      body: formData
    });

    if (!response.ok) throw new Error('Сактоо катасы');

    closeNewsModal();
    loadNews();
  } catch (error) {
    console.error('Сактоо катасы:', error);
    alert('Жаңылыкты сактоо мүмкүн болбоду');
  }
});

        });

const teacherModal = document.getElementById('teacherModal');
const teacherForm = document.getElementById('teacherForm');
const addTeacherBtn = document.getElementById('addTeacherBtn');
const saveTeacherBtn = document.getElementById('saveTeacherBtn');
const cancelTeacherBtn = document.getElementById('cancelTeacherBtn');
let currentTeacherId = null;

function closeTeacherModal() {
    teacherModal.style.display = 'none';
    teacherForm.reset();
    currentTeacherId = null;
}

async function loadTeachers() {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';

    try {
              const response = await fetch(`${API_BASE_URL}/api/teachers`);
        if (!response.ok) throw new Error('Network error');
        
        const teachers = await response.json();
        const tbody = document.getElementById('teachersTableBody');
        
        tbody.innerHTML = teachers.map(teacher => `
            <tr>
                <td>${teacher._id}</td>
                <td>
                    ${teacher.photo ? `<img src="${API_BASE_URL}/uploads/${teacher.photo}" style="width:60px;height:60px;border-radius:50%;object-fit:cover;">` : 'Сүрөт жок'}
                </td>
                <td>${teacher.name}</td>
                <td>${teacher.subject}</td>
                <td>${teacher.experience}</td>
                <td>
                    <div class="table-actions">
                        <button class="btn btn-edit" data-id="${teacher._id}">
                            <i class="fas fa-edit"></i> Түзөтүү
                        </button>
                        <button class="btn btn-delete" data-id="${teacher._id}">
                            <i class="fas fa-trash"></i> Өчүрүү
                        </button>
                    </div>
                </td>
            </tr>
        `).join('');
        
        document.querySelectorAll('.teachers-table .btn-edit').forEach(btn => {
            btn.addEventListener('click', () => editTeacher(btn.dataset.id));
        });
        
        document.querySelectorAll('.teachers-table .btn-delete').forEach(btn => {
            btn.addEventListener('click', () => deleteTeacher(btn.dataset.id));
        });
        
    } catch (error) {
        console.error('Мугалимдерди жүктөөдө ката:', error);
        alert('Мугалимдерди жүктөө мүмкүн болбоду');
    }
}
async function editTeacher(id) {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';

    try {
        if (!id || typeof id !== 'string') {
            throw new Error('Неверный ID преподавателя');
        }

                const url = `${API_BASE_URL}/api/teachers/${encodeURIComponent(id)}`;
        
        console.log('Отправка запроса по URL:', url);
        
        const response = await fetch(url);
        
        if (response.status === 404) {
            throw new Error('Преподаватель не найден');
        }
        
        if (!response.ok) {
            throw new Error(`Ошибка сервера: ${response.status}`);
        }
        
        const teacher = await response.json();
        
        if (!teacher) {
            throw new Error('Получены пустые данные');
        }
        
        // Заполнение формы
        document.getElementById('teacherName').value = teacher.name || '';
        document.getElementById('teacherSubject').value = teacher.subject || '';
        document.getElementById('teacherExperience').value = teacher.experience || '';
        document.getElementById('teacherEducation').value = teacher.education || '';
        document.getElementById('teacherBio').value = teacher.bio || '';
        
        currentTeacherId = id;
        document.getElementById('teacherModal').style.display = 'flex';
        document.getElementById('teacherModalTitle').textContent = 'Мугалимди түзөтүү';
        
    } catch (error) {
        console.error('Ошибка при редактировании:', error);
        alert(`Ошибка: ${error.message}\nПроверьте консоль для подробностей`);
    }
}

async function deleteTeacher(id) {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';
  
    if (!confirm('Бул мугалимди чынымен өчүрүүнү каалайсызбы?')) return;
    
    try {
        const response = await fetch(`${API_BASE_URL}/api/teachers/${id}`, {
            method: 'DELETE'
        });
        
        if (!response.ok) throw new Error('Өчүрүү ийгиликсиз болду');
        loadTeachers();
    } catch (error) {
        console.error('Өчүрүүдө ката:', error);
        alert('Мугалимди өчүрүү мүмкүн болбоду');
    }
}

// Обработчики событий
addTeacherBtn.addEventListener('click', () => {
    teacherModal.style.display = 'flex';
    document.getElementById('teacherModalTitle').textContent = 'Мугалим кошуу';
});

cancelTeacherBtn.addEventListener('click', closeTeacherModal);

teacherModal.addEventListener('click', (e) => {
    if (e.target === teacherModal) closeTeacherModal();
});

saveTeacherBtn.addEventListener('click', async () => {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';
  
    const formData = new FormData();
    formData.append('name', document.getElementById('teacherName').value);
    formData.append('subject', document.getElementById('teacherSubject').value);
    formData.append('experience', document.getElementById('teacherExperience').value);
    formData.append('education', document.getElementById('teacherEducation').value);
    formData.append('bio', document.getElementById('teacherBio').value);
    
    const photoFile = document.getElementById('teacherPhoto').files[0];
    if (photoFile) formData.append('photo', photoFile);
    
    try {
        const url = currentTeacherId 
            ? `${API_BASE_URL}/api/teachers/${currentTeacherId}`
            : `${API_BASE_URL}/api/teachers`;
        
        const method = currentTeacherId ? 'PUT' : 'POST';
        
        const response = await fetch(url, {
            method,
            body: formData
        });
        
        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error || 'Сактоо ийгиликсиз болду');
        }
        
        closeTeacherModal();
        loadTeachers();
    } catch (error) {
        console.error('Сактоодо ката:', error);
        alert(`Ката: ${error.message}`);
    }
});

// Загружаем преподавателей при старте
loadTeachers();
// Элементы
const studentModal = document.getElementById('studentModal');
const studentForm = document.getElementById('studentForm');
const addStudentBtn = document.getElementById('addStudentBtn');
const saveStudentBtn = document.getElementById('saveStudentBtn');
const cancelStudentBtn = document.getElementById('cancelStudentBtn');
const studentsGrid = document.getElementById('studentsGrid');
let currentStudentId = null;

// Инициализация
addStudentBtn.addEventListener('click', () => {
  studentModal.style.display = 'flex';
  document.getElementById('studentModalTitle').textContent = 'Окуучу кошуу';
  studentForm.reset();
  currentStudentId = null;
});

cancelStudentBtn.addEventListener('click', () => {
  studentModal.style.display = 'none';
});

studentModal.addEventListener('click', (e) => {
  if (e.target === studentModal) studentModal.style.display = 'none';
});

// Загрузка студентов
async function loadStudents() {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';

  try {
    const response = await fetch(`${API_BASE_URL}/api/students`);
    if (!response.ok) throw new Error('Ошибка загрузки');
    
    const students = await response.json();
    renderStudents(students);
  } catch (error) {
    console.error('Ошибка:', error);
    alert('Окуучуларды жүктөө мүмкүн болбоду');
  }
}

// Отображение студентов
function renderStudents(students) {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';

  studentsGrid.innerHTML = students.map(student => `
    <div class="student-card" data-id="${student._id}">
      <div class="student-image">
 <img src="${student.image ? `${API_BASE_URL}/uploads/${student.image}` : 'img/default-student.png'}" 
     alt="${student.name}"
     width="60" 
     height="60">
        <div class="student-actions">
          <button class="btn btn-edit" data-id="${student._id}"><i class="fas fa-edit"></i></button>
          <button class="btn btn-delete" data-id="${student._id}"><i class="fas fa-trash"></i></button>
        </div>
      </div>
      <div class="student-info">
        <h3>${student.name}</h3>
        <span class="class">${student.class} класс</span>
        <span class="achievement">${student.achievements}</span>
        <p>${student.description}</p>
        <div class="badges">
          ${student.badges.map(badge => `<span class="badge">${badge}</span>`).join('')}
        </div>
      </div>
    </div>
  `).join('');

  // Навешиваем обработчики
  document.querySelectorAll('.student-card .btn-edit').forEach(btn => {
    btn.addEventListener('click', () => editStudent(btn.dataset.id));
  });

  document.querySelectorAll('.student-card .btn-delete').forEach(btn => {
    btn.addEventListener('click', () => deleteStudent(btn.dataset.id));
  });
}

// Редактирование студента
async function editStudent(id) {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';

  try {
    console.log('Fetching student with ID:', id); // Логирование
    
    const response = await fetch(`${API_BASE_URL}/api/students/${id}`);
    
    if (!response.ok) {
      const errorData = await response.json().catch(() => null);
      throw new Error(errorData?.error || 'Ошибка загрузки');
    }
    
    const student = await response.json();
    console.log('Received student data:', student); // Логирование
    
    // Заполняем форму
    document.getElementById('studentName').value = student.name;
    document.getElementById('studentClass').value = student.class;
    document.getElementById('studentAchievements').value = student.achievements;
    document.getElementById('studentDescription').value = student.description;
    document.getElementById('studentBadges').value = student.badges?.join(', ') || '';
    
    currentStudentId = id;
    document.getElementById('studentModalTitle').textContent = 'Окуучуну түзөтүү';
    studentModal.style.display = 'flex';
    
  } catch (error) {
    console.error('Полная ошибка:', {
      message: error.message,
      stack: error.stack
    });
    alert(`Түзөтүү мүмкүн болбоду: ${error.message}`);
  }
}

// Сохранение студента
saveStudentBtn.addEventListener('click', async () => {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';


  const formData = new FormData();
  formData.append('name', document.getElementById('studentName').value);
  formData.append('class', document.getElementById('studentClass').value);
  formData.append('achievements', document.getElementById('studentAchievements').value);
  formData.append('description', document.getElementById('studentDescription').value);
  formData.append('badges', document.getElementById('studentBadges').value);
  
  const imageFile = document.getElementById('studentImage').files[0];
  if (imageFile) formData.append('image', imageFile);
  
  try {
    const url = currentStudentId 
      ? `${API_BASE_URL}/api/students/${currentStudentId}`
      : `${API_BASE_URL}/api/students`;
    
    const method = currentStudentId ? 'PUT' : 'POST';
    
    const response = await fetch(url, {
      method,
      body: formData
    });
    
    if (!response.ok) {
      const errorData = await response.json();
      throw new Error(errorData.error || 'Ошибка сохранения');
    }
    
    studentModal.style.display = 'none';
    loadStudents();
    
  } catch (error) {
    console.error('Полная ошибка сохранения:', error);
    alert(`Ошибка: ${error.message}`);
  }
});

// Удаление студента
async function deleteStudent(id) {
  const API_BASE_URL = 'https://n-saidiev.onrender.com';

  if (!confirm('Бул окуучуну чынымен өчүрүүнү каалайсызбы?')) return;
  
  try {
    const response = await fetch(`${API_BASE_URL}/api/students/${id}`, {
      method: 'DELETE'
    });
    
    if (!response.ok) throw new Error('Өчүрүү ийгиликсиз болду');
    loadStudents();
    
  } catch (error) {
    console.error('Ошибка:', error);
    alert('Өчүрүү мүмкүн болбоду');
  }
}

loadStudents()
        </script>


  
    <script src="js/include.js"></script>

<script src="/js/translations.js"></script>
<script src="/js/initLanguageSelect.js"></script>
<script src="js/hamburgerMenu.js"></script>

</body>
</html>